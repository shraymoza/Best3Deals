Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
best3deals,com.group5.best3deals.brand.service,BrandService,updateBrand,Long Statement,The length of the statement "Brand brand=Brand.builder().id(id).name(brandPutRequest.getName() != null ? brandPutRequest.getName() : existingBrand.getName()).imageUrl(brandPutRequest.getImageUrl() != null ? brandPutRequest.getImageUrl() : existingBrand.getImageUrl()).build();" is 247.,42
best3deals,com.group5.best3deals.config,ApplicationConfiguration,userDetailsService,Long Statement,The length of the statement "return email -> userRepository.findByEmail(email).orElseThrow(() -> new UsernameNotFoundException("User with email '" + email + "' not found"));" is 144.,22
best3deals,com.group5.best3deals.config,JwtAuthenticationFilter,doFilterInternal,Long Statement,The length of the statement "UsernamePasswordAuthenticationToken authToken=new UsernamePasswordAuthenticationToken(userDetails`null`userDetails.getAuthorities());" is 133.,38
best3deals,com.group5.best3deals.config,JwtAuthenticationFilter,doFilterInternal,Magic Number,The method contains a magic number: 7,38
best3deals,com.group5.best3deals.config,S3Config,amazonS3Client,Long Statement,The length of the statement "return AmazonS3ClientBuilder.standard().withRegion(region).withCredentials(new AWSStaticCredentialsProvider(awsCredentials)).build();" is 133.,24
best3deals,com.group5.best3deals.config,SecurityConfiguration,securityFilterChain,Long Statement,The length of the statement "http.cors(withDefaults()).csrf(csrf -> csrf.disable()).authorizeHttpRequests(authorize -> authorize.requestMatchers("/admin-portal.html"`"/static/**"`"/favicon.ico"`"/styles.css"`"/scripts.js"`"/css/**"`"/js/**"`"/images/**").permitAll().requestMatchers("/auth/**"`"/users/**"`"/upload/**"`"/uploads/**"`"/swagger-ui/**"`"/swagger-ui.html"`"v3/api-docs/**"`"/reset-password.html**"`"/reset-success.html**"`"/reset-failed.html**").permitAll().requestMatchers("/admin/**").hasAuthority("ROLE_ADMIN").anyRequest().authenticated()).sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)).authenticationProvider(authenticationProvider).addFilterBefore(jwtAuthenticationFilter`UsernamePasswordAuthenticationFilter.class);" is 752.,34
best3deals,com.group5.best3deals.config,SwaggerConfig,customOpenAPI,Long Statement,The length of the statement "return new OpenAPI().components(new Components().addSecuritySchemes("BearerAuth"`new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme("bearer").bearerFormat("JWT"))).addSecurityItem(new SecurityRequirement().addList("BearerAuth"));" is 237.,25
best3deals,com.group5.best3deals.exception,GlobalExceptionHandler,handleConstraintViolationExceptions,Long Statement,The length of the statement "ex.getConstraintViolations().forEach(violation -> errors.put(violation.getPropertyPath().toString()`violation.getMessage()));" is 125.,45
best3deals,com.group5.best3deals.flyer.entity,Flyer,Flyer,Long Parameter List,The method has 5 parameters. ,24
best3deals,com.group5.best3deals.flyer.entity,FlyerProduct,FlyerProduct,Long Parameter List,The method has 5 parameters. ,31
best3deals,com.group5.best3deals.flyer.service,FlyerProductService,getFlyerProductById,Long Statement,The length of the statement "return flyerProductRepository.findById(id).orElseThrow(() -> new NoSuchElementException("Product not found in flyer with " + id));" is 130.,24
best3deals,com.group5.best3deals.flyer.service,FlyerProductService,addFlyerProduct,Long Statement,The length of the statement "FlyerProduct flyerProduct=FlyerProduct.builder().flyerId(flyerProductRequest.getFlyerId()).productId(flyerProductRequest.getProductId()).originalPrice(flyerProductRequest.getOriginalPrice()).discountedPrice(flyerProductRequest.getDiscountedPrice()).build();" is 257.,48
best3deals,com.group5.best3deals.flyer.service,FlyerProductService,addFlyerProduct,Long Statement,The length of the statement "return new FlyerProductResponse(flyerProduct.getId()`flyerProduct.getFlyerId()`flyerProduct.getProductId()`flyerProduct.getOriginalPrice()`flyerProduct.getDiscountedPrice());" is 174.,48
best3deals,com.group5.best3deals.flyer.service,FlyerProductService,updateFlyerProduct,Long Statement,The length of the statement "FlyerProduct flyerProduct=FlyerProduct.builder().id(existingFP.getId()).flyerId(flyerProductPutRequest.getFlyerId() != null ? flyerProductPutRequest.getFlyerId() : existingFP.getFlyerId()).productId(flyerProductPutRequest.getProductId() != null ? flyerProductPutRequest.getProductId() : existingFP.getProductId()).originalPrice(flyerProductPutRequest.getOriginalPrice() != null ? flyerProductPutRequest.getOriginalPrice() : existingFP.getOriginalPrice()).discountedPrice(flyerProductPutRequest.getDiscountedPrice() != null ? flyerProductPutRequest.getDiscountedPrice() : existingFP.getDiscountedPrice()).build();" is 612.,62
best3deals,com.group5.best3deals.flyer.service,FlyerProductService,updateFlyerProduct,Long Statement,The length of the statement "return new FlyerProductResponse(flyerProduct.getId()`flyerProduct.getFlyerId()`flyerProduct.getProductId()`flyerProduct.getOriginalPrice()`flyerProduct.getDiscountedPrice());" is 174.,62
best3deals,com.group5.best3deals.flyer.service,FlyerService,getFlyerById,Long Statement,The length of the statement "return new FlyerResponse(flyer.getId()`flyer.getName()`flyer.getDescription()`flyer.getImageUrl()`flyer.getStoreId()`products);" is 127.,23
best3deals,com.group5.best3deals.flyer.service,FlyerService,getAllFlyersByStoreId,Long Statement,The length of the statement "return flyerRepository.findAllByStoreId(storeId).orElseThrow(() -> new NoSuchElementException("Flyer not found with storeId " + storeId));" is 138.,39
best3deals,com.group5.best3deals.flyer.service,FlyerService,createFlyer,Long Statement,The length of the statement "Flyer flyer=Flyer.builder().name(flyerRequest.getName()).description(flyerRequest.getDescription()).imageUrl(flyerRequest.getImageUrl()).storeId(flyerRequest.getStoreId()).build();" is 180.,44
best3deals,com.group5.best3deals.flyer.service,FlyerService,createFlyer,Long Statement,The length of the statement "return new FlyerResponse(flyer.getId()`flyer.getName()`flyer.getDescription()`flyer.getImageUrl()`flyer.getStoreId()`new ArrayList<>());" is 136.,44
best3deals,com.group5.best3deals.flyer.service,FlyerService,updateFlyer,Long Statement,The length of the statement "Flyer existingFlyer=flyerRepository.findById(id).orElseThrow(() -> new NoSuchElementException("Flyer not found with " + id));" is 125.,60
best3deals,com.group5.best3deals.flyer.service,FlyerService,updateFlyer,Long Statement,The length of the statement "Flyer flyer=Flyer.builder().id(id).name(flyerRequest.getName() != null ? flyerRequest.getName() : existingFlyer.getName()).description(flyerRequest.getDescription() != null ? flyerRequest.getDescription() : existingFlyer.getDescription()).imageUrl(flyerRequest.getImageUrl() != null ? flyerRequest.getImageUrl() : existingFlyer.getImageUrl()).storeId(flyerRequest.getStoreId() != null ? flyerRequest.getStoreId() : existingFlyer.getStoreId()).build();" is 451.,60
best3deals,com.group5.best3deals.flyer.service,FlyerService,updateFlyer,Long Statement,The length of the statement "return new FlyerResponse(flyer.getId()`flyer.getName()`flyer.getDescription()`flyer.getImageUrl()`flyer.getStoreId()`products);" is 127.,60
best3deals,com.group5.best3deals.location.service,LocationService,createLocation,Long Statement,The length of the statement "Location location=Location.builder().longitude(locationRequest.getLongitude()).latitude(locationRequest.getLatitude()).timestamp(new Date()).build();" is 149.,30
best3deals,com.group5.best3deals.location.service,LocationService,updateLocation,Long Statement,The length of the statement "Location location=Location.builder().id(existingLocation.getId()).latitude(locationPutReq.getLatitude() != null ? locationPutReq.getLatitude() : existingLocation.getLatitude()).longitude(locationPutReq.getLongitude() != null ? locationPutReq.getLongitude() : existingLocation.getLongitude()).timestamp(new Date()).build();" is 322.,43
best3deals,com.group5.best3deals.post.entity,Post,Post,Long Parameter List,The method has 11 parameters. ,48
best3deals,com.group5.best3deals.post.service,CommentService,createComment,Long Statement,The length of the statement "Comment comment=Comment.builder().content(commentRequest.getContent()).userId(userId).postId(commentRequest.getPostId()).build();" is 129.,32
best3deals,com.group5.best3deals.post.service,CommentService,createComment,Long Statement,The length of the statement "return new CommentResponse(comment.getId()`comment.getContent()`comment.getUserId()`comment.getPostId()`comment.getCreatedAt());" is 128.,32
best3deals,com.group5.best3deals.post.service,PostService,getPostById,Long Statement,The length of the statement "return new PostResponse(post.getId()`post.getTitle()`post.getContent()`post.getImgUrl()`post.getOriginalPrice()`post.getDiscountedPrice()`post.getIsValid()`post.getUserId()`post.getStoreId()`post.getEndDate()`post.getCreatedAt()`reactionService.getAllByPostId(id));" is 265.,23
best3deals,com.group5.best3deals.post.service,PostService,createPost,Long Statement,The length of the statement "Post post=Post.builder().title(postRequest.getTitle()).content(postRequest.getContent()).imgUrl(postRequest.getImgUrl()).discountedPrice(postRequest.getDiscountedPrice()).originalPrice(postRequest.getOriginalPrice()).isValid(true).storeId(postRequest.getStoreId()).userId(userId).endDate(postRequest.getEndDate()).build();" is 322.,58
best3deals,com.group5.best3deals.post.service,PostService,createPost,Long Statement,The length of the statement "return new PostResponse(post.getId()`post.getTitle()`post.getContent()`post.getImgUrl()`post.getOriginalPrice()`post.getDiscountedPrice()`post.getIsValid()`post.getUserId()`post.getStoreId()`post.getEndDate()`post.getCreatedAt()`reactionService.getAllByPostId(post.getId()));" is 275.,58
best3deals,com.group5.best3deals.post.service,PostService,updatePost,Long Statement,The length of the statement "Post updatedPost=Post.builder().id(existingPost.getId()).title(postPutRequest.getTitle() != null ? postPutRequest.getTitle() : existingPost.getTitle()).content(postPutRequest.getContent() != null ? postPutRequest.getContent() : existingPost.getContent()).imgUrl(postPutRequest.getImgUrl() != null ? postPutRequest.getImgUrl() : existingPost.getImgUrl()).originalPrice(postPutRequest.getOriginalPrice() != null ? postPutRequest.getOriginalPrice() : existingPost.getOriginalPrice()).discountedPrice(postPutRequest.getDiscountedPrice() != null ? postPutRequest.getDiscountedPrice() : existingPost.getDiscountedPrice()).isValid(postPutRequest.getIsValid() != null ? postPutRequest.getIsValid() : existingPost.getIsValid()).userId(existingPost.getUserId()).storeId(postPutRequest.getStoreId() != null ? postPutRequest.getStoreId() : existingPost.getStoreId()).endDate(postPutRequest.getEndDate() != null ? postPutRequest.getEndDate() : existingPost.getEndDate()).createdAt(existingPost.getCreatedAt()).build();" is 1005.,94
best3deals,com.group5.best3deals.post.service,PostService,updatePost,Long Statement,The length of the statement "return new PostResponse(updatedPost.getId()`updatedPost.getTitle()`updatedPost.getContent()`updatedPost.getImgUrl()`updatedPost.getOriginalPrice()`updatedPost.getDiscountedPrice()`updatedPost.getIsValid()`updatedPost.getUserId()`updatedPost.getStoreId()`updatedPost.getEndDate()`updatedPost.getCreatedAt()`reactionService.getAllByPostId(updatedPost.getId()));" is 359.,94
best3deals,com.group5.best3deals.post.service,ReactionService,createReaction,Long Statement,The length of the statement "Reaction reaction=Reaction.builder().reactionType(reactionRequest.getReactionType()).userId(userId).postId(reactionRequest.getPostId()).build();" is 144.,29
best3deals,com.group5.best3deals.product.entity,Product,Product,Long Parameter List,The method has 8 parameters. ,35
best3deals,com.group5.best3deals.product.service,ProductService,getAllProductsByCategoryId,Long Statement,The length of the statement "return productRepository.findAllByCategoryId(categoryId).orElseThrow(() -> new NoSuchElementException("Product not found with Category ID: " + categoryId));" is 156.,35
best3deals,com.group5.best3deals.product.service,ProductService,getAllProductsByStoreId,Long Statement,The length of the statement "return productRepository.findAllByStoreId(storeId).orElseThrow(() -> new NoSuchElementException("Product not found with Store ID: " + storeId));" is 144.,41
best3deals,com.group5.best3deals.product.service,ProductService,createProduct,Long Statement,The length of the statement "Product product=Product.builder().name(productRequest.getName()).description(productRequest.getDescription()).imgUrl(productRequest.getImgUrl()).price(productRequest.getPrice()).quantityInStock(productRequest.getQuantityInStock()).categoryId(productRequest.getCategoryId()).storeId(productRequest.getStoreId()).build();" is 319.,60
best3deals,com.group5.best3deals.product.service,ProductService,createProduct,Long Statement,The length of the statement "return new ProductResponse(product.getId()`product.getName()`product.getDescription()`product.getImgUrl()`product.getPrice()`product.getQuantityInStock()`product.getCategoryId()`product.getStoreId());" is 200.,60
best3deals,com.group5.best3deals.product.service,ProductService,updateProduct,Long Statement,The length of the statement "Product existingProduct=productRepository.findById(id).orElseThrow(() -> new NoSuchElementException("Product not found with " + id));" is 133.,78
best3deals,com.group5.best3deals.product.service,ProductService,updateProduct,Long Statement,The length of the statement "Product product=Product.builder().id(existingProduct.getId()).name(productRequest.getName() != null ? productRequest.getName() : existingProduct.getName()).description(productRequest.getDescription() != null ? productRequest.getDescription() : existingProduct.getDescription()).imgUrl(productRequest.getImgUrl() != null ? productRequest.getImgUrl() : existingProduct.getImgUrl()).price(productRequest.getPrice() != null ? productRequest.getPrice() : existingProduct.getPrice()).quantityInStock(productRequest.getQuantityInStock() != null ? productRequest.getQuantityInStock() : existingProduct.getQuantityInStock()).categoryId(productRequest.getCategoryId() != null ? productRequest.getCategoryId() : existingProduct.getCategoryId()).storeId(productRequest.getStoreId() != null ? productRequest.getStoreId() : existingProduct.getStoreId()).build();" is 848.,78
best3deals,com.group5.best3deals.product.service,ProductService,updateProduct,Long Statement,The length of the statement "return new ProductResponse(product.getId()`product.getName()`product.getDescription()`product.getImgUrl()`product.getPrice()`product.getQuantityInStock()`product.getCategoryId()`product.getStoreId());" is 200.,78
best3deals,com.group5.best3deals.service,AuthenticationService,signup,Magic Number,The method contains a magic number: 15,33
best3deals,com.group5.best3deals.service,AuthenticationService,resendVerificationCode,Magic Number,The method contains a magic number: 15,109
best3deals,com.group5.best3deals.service,AuthenticationService,requestPasswordReset,Long Statement,The length of the statement "String htmlMessage="<html>" + "<body style=\"font-family: 'Helvetica Neue'` sans-serif; background-color: #e0f7fa; padding: 20px;\">" + "<div style=\"max-width: 500px; background-color: #ffffff; padding: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0`0`0`0.1); text-align: center;\">"+ "<h2 style=\"color: #00695c;\">Reset Your Password</h2>"+ "<p style=\"font-size: 16px; color: #004d40;\">Click the button below to reset your password. You can do this via the web browser or the mobile app.</p>"+ "<a href=\"" + webLink + "\" style=\"display: inline-block; text-decoration: none; background-color: #00695c; color: white; padding: 12px 20px; border-radius: 5px; font-size: 16px; margin: 10px;\"> Reset via Web</a>"+ "<a href=\""+ appLink+ "\" style=\"display: inline-block; text-decoration: none; background-color: #d32f2f; color: white; padding: 12px 20px; border-radius: 5px; font-size: 16px; margin: 10px;\"> Reset via App</a>"+ "<p style=\"margin-top: 20px; font-size: 14px; color: #666;\">If you did not request this` please ignore this email.</p>"+ "</div></body></html>";" is 1086.,124
best3deals,com.group5.best3deals.service,AuthenticationService,requestPasswordReset,Magic Number,The method contains a magic number: 15,124
best3deals,com.group5.best3deals.service,AuthenticationService,sendVerificationEmail,Long Statement,The length of the statement "String htmlMessage="<html>" + "<body style=\"font-family: 'Helvetica Neue'` sans-serif;\">" + "<div style=\"background-color: #e0f7fa; padding: 20px;\">"+ "<h2 style=\"color: #00695c;\">Welcome to Best3Deals!</h2>"+ "<p style=\"font-size: 16px; color: #004d40;\">Please use the verification code below to complete your registration:</p>"+ "<div style=\"background-color: #ffffff; padding: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0`0`0`0.1);\">"+ "<h3 style=\"color: #004d40;\">Verification Code:</h3>"+ "<p style=\"font-size: 18px; font-weight: bold; color: #d32f2f;\">" + verificationCode + "</p>"+ "</div>"+ "</div>"+ "</body>"+ "</html>";" is 653.,167
best3deals,com.group5.best3deals.service,AuthenticationService,generateVerificationCode,Magic Number,The method contains a magic number: 900000,190
best3deals,com.group5.best3deals.service,AuthenticationService,generateVerificationCode,Magic Number,The method contains a magic number: 100000,190
best3deals,com.group5.best3deals.service,JwtService,generateToken,Long Statement,The length of the statement "claims.put("roles"`userDetails.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()));" is 123.,38
best3deals,com.group5.best3deals.service,JwtService,buildToken,Long Statement,The length of the statement "return Jwts.builder().setClaims(extraClaims).setSubject(userDetails.getUsername()).setIssuedAt(new Date(System.currentTimeMillis())).setExpiration(new Date(System.currentTimeMillis() + expiration)).signWith(getSignInKey()`SignatureAlgorithm.HS256).compact();" is 258.,50
best3deals,com.group5.best3deals.store.entity,Store,Store,Long Parameter List,The method has 6 parameters. ,33
best3deals,com.group5.best3deals.store.service,StoreService,getStoresWithinRadius,Long Statement,The length of the statement "double distance=DistanceCalculator.calculateDistance(latitude`longitude`store.getLocation().getLatitude()`store.getLocation().getLongitude());" is 142.,35
best3deals,com.group5.best3deals.store.service,StoreService,getStoresByBrandId,Long Statement,The length of the statement "return storeRepository.findAllByBrandId(brandId).orElseThrow(() -> new NoSuchElementException("Store not found with brand id " + brandId));" is 139.,52
best3deals,com.group5.best3deals.store.service,StoreService,createStore,Long Statement,The length of the statement "Store store=Store.builder().name(storeReq.getName()).address(storeReq.getAddress()).imgUrl(storeReq.getImageUrl()).location(location).brandId(storeReq.getBrandId()).build();" is 173.,58
best3deals,com.group5.best3deals.store.service,StoreService,createStore,Long Statement,The length of the statement "return new StoreResponse(store.getId()`store.getName()`store.getAddress()`store.getImgUrl()`store.getLocation()`store.getBrandId());" is 132.,58
best3deals,com.group5.best3deals.store.service,StoreService,updateStore,Long Statement,The length of the statement "Location updatedLocation=storePutReq.getLocation() != null ? locationService.updateLocation(existingStore.getLocation().getId()`storePutReq.getLocation()) : existingStore.getLocation();" is 185.,76
best3deals,com.group5.best3deals.store.service,StoreService,updateStore,Long Statement,The length of the statement "Store store=Store.builder().id(existingStore.getId()).name(storePutReq.getName() != null ? storePutReq.getName() : existingStore.getName()).address(storePutReq.getAddress() != null ? storePutReq.getAddress() : existingStore.getAddress()).imgUrl(storePutReq.getImgUrl() != null ? storePutReq.getImgUrl() : existingStore.getImgUrl()).location(updatedLocation).brandId(storePutReq.getBrandId() != null ? storePutReq.getBrandId() : existingStore.getBrandId()).build();" is 464.,76
best3deals,com.group5.best3deals.store.service,StoreService,updateStore,Long Statement,The length of the statement "return new StoreResponse(store.getId()`store.getName()`store.getAddress()`store.getImgUrl()`store.getLocation()`store.getBrandId());" is 132.,76
best3deals,com.group5.best3deals.user.entity,User,User,Long Parameter List,The method has 7 parameters. ,68
best3deals,com.group5.best3deals.user.service,UserService,updateUser,Long Statement,The length of the statement "User user=userRepository.findByEmail(updateUserDto.getEmail()).orElseThrow(() -> new RuntimeException("User not found"));" is 121.,33
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Long Statement,The length of the statement "double a=Math.sin(latDistance / 2) * Math.sin(latDistance / 2) + Math.cos(Math.toRadians(lat1)) * Math.cos(Math.toRadians(lat2)) * Math.sin(lonDistance / 2)* Math.sin(lonDistance / 2);" is 184.,7
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Magic Number,The method contains a magic number: 2,7
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Magic Number,The method contains a magic number: 2,7
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Magic Number,The method contains a magic number: 2,7
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Magic Number,The method contains a magic number: 2,7
best3deals,com.group5.best3deals.util,DistanceCalculator,calculateDistance,Magic Number,The method contains a magic number: 2,7
best3deals,com.group5.best3deals.wishlist.service,WishlistService,getWishlistByUserIdAndProductId,Long Statement,The length of the statement "return wishlistRepository.findByUserIdAndProductId(userId`productId).orElseThrow(() -> new NoSuchElementException("Wishlist not found with product id " + productId));" is 166.,26
